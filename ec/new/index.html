<!doctype html>
<html lang="en">

<head>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
	<script>
		if (sessionStorage.account) {
			window.location.replace('./launcher.html');
		} else if (typeof localStorage.getItem('_eaglercraftX.p') !== 'object') {
			let encodedValue = localStorage.getItem('_eaglercraftX.p');
			let b64Data = encodedValue;
			let strData = atob(b64Data);
			let charData = strData.split('').map(function(x){return x.charCodeAt(0);});
			let binData = new Uint8Array(charData);
			let data = pako.inflate(binData);
			strData = String.fromCharCode.apply(null, new Uint16Array(data));
			let filteredStr = strData.replace(/[^a-zA-Z0-9_]/g,'')
			let username = filteredStr.substring(filteredStr.indexOf("username") + 8, filteredStr.lastIndexOf("preset"));
			sessionStorage.account = JSON.stringify({pseudo: username});
			window.location.replace('./launcher.html');
		}
	</script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Eagler Launcher</title>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap');

		body {
			font-family: 'Open Sans', sans-serif;
			display: flex;
			height: 100vh;
			background-image: url('./images/background.jpg');
			background-size: cover;
			background-position: center;
			margin: 0;
		}

		.container {
			background-color: #2b2b2c;
			padding: 0px 40px;
			border-top-left-radius: 8px;
			border-bottom-left-radius: 8px;
			box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
			width: 33%;
			text-align: center;
			color: white;
			position: absolute;
			right: 0px;
			height: 100%;
			display: grid;
			align-items: center;
		}

		.container.footer {
			bottom: 0px;
			height: 5%;
		}

		.logo img {
			width: 90%;
			margin-top: 50px;
		}

		.form-container {
			display: flex;
			flex-direction: column;
		}

		input {
			margin: auto;
			padding: 10px;
			border: 1px solid #ddd;
			border-radius: 4px;
			font-size: 14px;
			width: calc(90% - 22px);
		}

		button {
			padding: 10px;
			border: none;
			border-radius: 4px;
			background-color: #00c300;
			color: white;
			cursor: pointer;
			font-size: 16px;
			margin-top: 10px;
			width: 33%;
			margin: auto;
			margin-top: 1rem;
			margin-bottom: 2rem;
		}

		button:hover {
			background-color: #00a300;
		}

		.form-container a {
			color: #00a2ff;
			text-decoration: none;
			font-size: 12px;
		}

		.form-container a:hover {
			text-decoration: underline;
		}

		.form-container p {
			font-size: 12px;
		}

		.link-container {
			margin-top: 10px;
			display: flex;
			justify-content: space-between;
		}

		.checkbox-container {
			display: none;
		}

		#recoveryForm {
			display: none;
		}
	</style>
</head>

<body>
	<div class="container">
			<div class="form-container" id="loginForm">
				<div class="logo">
					<img src="./images/eaglercraft-title.png" alt="Minecraft Logo">
				</div>
				<h2>Login</h2>
				<input type="text" id="loginUsername" placeholder="Username" required>
				<button onclick="login()">Log In</button>
				<p>(Note that username only affects versions 1.8.8 and above)</p>
			</div>
		</div>
		<footer class="container footer">Â© 2024 Justin Coding Projects</footer>
		<script>
			function login () {
				let value = document.getElementById('loginUsername').value;
				sessionStorage.account = JSON.stringify({pseudo: value});
				window.location.replace('./launcher.html');
			}
		</script>
</body>

</html></body><html>